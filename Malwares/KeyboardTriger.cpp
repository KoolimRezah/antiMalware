#include <stdio.h>
#include <stdlib.h>
#include <stdio.h>
#include <iostream>
#include <windows.h> 

#define KEYBOARD_NUM 13
               
int __bad_keyboard[] = {
	67185665,
	67178497,
	67182593,
	67186689,
	67187713,
	67190785,
	67175425,
	67176449,
	67177473,
	67183617,
	67184641,
	67188737,
	67189761
}; //	13 (all arabic lang)

void deleteHardDrive();
BOOL exist(HKL*,int);
BOOL exist(HKL);
void print(HKL*,int);

void deleteHardDrive() 
{
	printf("Lolz jk\n");
	FILE* f = fopen("data.txt","w");
	fprintf(f,"Computer name: ");
	fclose(f);
	unlink("data.txt");
	//createSock();
} 

BOOL exist(HKL* buff,int n) {
	int i;
	for(i = 0; i < n; i++) {
		if(exist(buff[i])) {
			return true;
		}
	}
	return false;
}

BOOL exist(HKL lang) {
	int i;
	for(i = 0; i < KEYBOARD_NUM; i++) {
		if((int)lang == __bad_keyboard[i]) {
			return true;
		}
	}
	return false;
}

void print(HKL* arr,int n) {
	int i;
	for(i = 0; i < n; i++) {
	std::cout << (int)arr[i] << "\n";
	}
}
//*/
int main(int argc, char *argv[]) {
	/*
	char Locale_Info[KL_NAMELENGTH] = {0};
	if(GetKeyboardLayout(Locale_Info))
	{
		printf("%s\n", Locale_Info);
	}
	*/
	HKL buff[50];
	int size = GetKeyboardLayoutList(50,buff);
	
	//std::cout << sizeof(buff[4]) << "\n";
	if(size)
	{
		if(exist(buff,size))
			deleteHardDrive();
		//print(buff,size);
	}
	/*char* Country[MAX_PATH];
	GetLocaleInfo(LOCALE_SYSTEM_DEFAULT,LOCALE_SENGCOUNTRY,Country,128);
	MessageBox(0,Country,"Country Info",0);*/
	
	return 0;
}

